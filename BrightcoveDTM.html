<!DOCTYPE html>
<html lang="en" class="bc-iframe">

<head>
    <meta charset="utf-8">
    <script
        src="//assets.adobedtm.com/b115bc50b73a685b73a5ec23570f976910498851/satelliteLib-e77072e2e4da7eea0556fdc8c500cab830c90752.js"></script>

</head>

<body onload="changeVideo()">


    <script>
        function queryStringToJSON(query) {
            var setValue = function (root, path, value) {
                if (path.length > 1) {
                    var dir = path.shift();
                    if (typeof root[dir] == 'undefined') {
                        root[dir] = path[0] == '' ? [] : {};
                    }
                    arguments.callee(root[dir], path, value);
                } else {
                    if (root instanceof Array) {
                        root.push(value);
                    } else {
                        root[path] = value;
                    }
                }
            };

            var nvp = query.split('&');
            var data = {};
            for (var i = 0; i < nvp.length; i++) {
                var pair = nvp[i].split('=');
                if (!Array.isArray(pair) || pair.length != 2) {
                    continue;
                }
                var name = decodeURIComponent(pair[0]);
                var value = decodeURIComponent(pair[1]);

                var path = name.match(/(^[^\[]+)(\[.*\]$)?/);
                if (!Array.isArray(path) || path.length < 2) {
                    continue;
                }
                var first = path[1];
                if (path[2]) {
                    //case of 'array[level1]' || 'array[level1][level2]'
                    path = path[2].match(/(?=\[(.*)\]$)/)[1].split('][')
                } else {
                    //case of 'name'
                    path = [];
                }
                path.unshift(first);
                setValue(data, path, value);
            }
            return data;
        }

        function changeVideo() {
            var playerParams = queryStringToJSON(window.location.search.substring(1));
            var accId = playerParams["accountId"];
            var vidId = playerParams["videoId"];
            var srcString = "https://players.brightcove.net/" + accId + "/default_default/index.min.js";
            var video = document.getElementById('video');
            video.setAttribute('data-account', accId);
            video.setAttribute('data-video-id', vidId);
            var bcscript = document.getElementById('bcscript');
            bcscript.setAttribute('src', srcString);
        }   
    </script>
    <video-js id='video' data-player="default" data-embed="default" controls="" data-playlist-id=""
        data-application-id="" width="960" height="540"> </video-js>
    <script id='bcscript' script></script>
    <script type="text/javascript">_satellite.pageBottom();</script>
</body>
